
<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AFTER! Ko'p bosqichli forma</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f6f8; margin: 0; padding: 0; }
    .form-container { max-width: 700px; margin: 50px auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
    .step { display: none; }
    .step.active { display: block; }
    input[type="text"], textarea, select {
      width: 100%; padding: 12px; margin-top: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 6px;
    }
    .buttons { display: flex; justify-content: space-between; }
    button {
      padding: 10px 20px; background: #234BFF; color: #fff; border: none;
      border-radius: 6px; font-size: 16px; cursor: pointer;
    }
    h2 { color: #234BFF; }
    .services label { display: block; margin-bottom: 10px; }
    .total { font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>

<div class="form-container">
  <form id="multiStepForm">

    <!-- Step 1: Personal Info -->
    <div class="step active" id="step1">
      <h2>1. Ismingiz va telefon</h2>
      <input type="text" name="ism" placeholder="Ismingiz" required>
      
    <label>Telefon raqamingiz</label>
    <div style="display: flex; gap: 10px;">
      <span style="padding: 12px 10px; background: #f1f1f1; border: 1px solid #ccc; border-radius: 6px;">+998</span>
      <input type="tel" name="telefon" placeholder="901234567" pattern="[0-9]{9}" inputmode="numeric" required style="flex: 1;">
    </div>
    
      <div class="buttons">
        <span></span>
        <button type="button" onclick="nextStep()">Davom etish</button>
      </div>
    </div>

    <!-- Step 2: Services & Calculator -->
    <div class="step" id="step2">
      <h2>2. Xizmatlar (Kalkulyator)</h2>
      <div class="services">
        <label><input type="checkbox" value="50"> Logotip ($50)</label>
        <label><input type="checkbox" value="20"> Prezintatsiya ($20)</label>
        <label><input type="checkbox" value="50"> Firmenniy stil ($50)</label>
        <label><input type="checkbox" value="5"> Ranglar ($5)</label>
        <label><input type="checkbox" value="5"> Shrift ($5)</label>
        <label><input type="checkbox" value="10"> Guidline style ($10)</label>
        <label><input type="checkbox" value="30"> Animatsiya logotip ($30)</label>
        <label><input type="checkbox" value="50"> Brending ($50)</label>
        <label><input type="checkbox" value="200"> Naming ($200)</label>
        <label><input type="checkbox" value="500"> Brendbook ($500)</label>
        <label><input type="checkbox" value="300"> Guidebook ($300)</label>
        <label><input type="checkbox" value="50"> Konkurent-analiz ($50)</label>
        <label><input type="checkbox" value="30"> Maqsadli auditoriyani o‚Äôrganish ($30)</label>
        <label><input type="checkbox" value="50"> Vizual dizaynlar ($50)</label>
        <label><input type="checkbox" value="30"> Social media dizayni ($30)</label>
      </div>
      <div class="total">Umumiy summa: $<span id="total">0</span></div>
      <div class="buttons">
        <button type="button" onclick="prevStep()">Ortga</button>
        <button type="button" onclick="nextStep()">Keyingi bosqich</button>
      </div>
    </div>

    <!-- Step 3: Brief Form -->
    <div class="step" id="step3">
      <h2>3. Brif</h2>
      <label>1. Loyihangiz qanday nomlanadi?</label><textarea name="q1"></textarea>
      <label>2. Qanday faoliyat turi bilan shug'ullanasiz?</label><textarea name="q2"></textarea>
      <label>3. Nomingiz qanday ma‚Äônoni anglatadi?</label><textarea name="q3"></textarea>
      <label>4. Loyihangiz qancha vaqtdan beri mavjud?</label><textarea name="q4"></textarea>
      <label>5. Kompaniya mahsuloti narx segmenti?</label>
    <select name="q5">
      <option value="Yuqori">Yuqori</option>
      <option value="O'rta">O'rta</option>
      <option value="Past">Past</option>
    </select>
      <label>6. Qadriyatlaringiz?</label><textarea name="q6"></textarea>
      <label>7. Raqobatchilar va yo'nalishlari?</label><textarea name="q7"></textarea>
      <label>8. Ustunliklaringiz?</label><textarea name="q8"></textarea>
      <label>9. Auditoriya tavsifi?</label><textarea name="q9"></textarea>
      <label>10. Xarid odatlari?</label><textarea name="q10"></textarea>
      <label>11. Slogan?</label><textarea name="q11"></textarea>
      <label>12. Bitta so'z bilan ta'rif?</label><textarea name="q12"></textarea>
      <label>13. Logotip qayerda ko'rsatiladi?</label><textarea name="q13"></textarea>
      <label>14. Logotip ko'rinishi?</label><textarea name="q14"></textarea>
      <label>15. Minimalizm/detallar?</label><textarea name="q15"></textarea>
      <label>16. Ranglar istagi/yoki yo'q?</label><textarea name="q16"></textarea>
      <label>17. Yaratuvchanlik bahosi (1-10)?</label>
    <select name="q17">
      <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
      <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
    </select>
      <label>18. Qaror qabul qiluvchilar?</label>
    <select name="q18">
      <option>1</option><option>2-3</option><option>4-5</option>
    </select>
      <label>19. Telefon va Telegram:</label><textarea name="q19"></textarea>
      <label>20. Yoqqan brendlar:</label><textarea name="q20"></textarea>
      <div class="buttons">
        <button type="button" onclick="prevStep()">Ortga</button>
        <button type="button" onclick="submitForm()">Yuborish</button>
      </div>
    </div>

  </form>
</div>

<script>
  const steps = document.querySelectorAll('.step');
  const checkboxes = document.querySelectorAll('.services input[type=checkbox]');
  const totalDisplay = document.getElementById('total');
  let currentStep = 0;

  function showStep(index) {
    steps.forEach((step, i) => step.classList.toggle('active', i === index));
  }

  function nextStep() {
    if (currentStep < steps.length - 1) {
      currentStep++;
      showStep(currentStep);
    }
  }

  function prevStep() {
    if (currentStep > 0) {
      currentStep--;
      showStep(currentStep);
    }
  }

  function updateTotal() {
    let total = 0;
    checkboxes.forEach(cb => {
      if (cb.checked) total += Number(cb.value);
    });
    totalDisplay.textContent = total;
  }

  checkboxes.forEach(cb => cb.addEventListener('change', updateTotal));

  function submitForm() {
    const formData = new FormData(document.getElementById('multiStepForm'));
    const selectedServices = [];
    checkboxes.forEach(cb => {
      if (cb.checked) selectedServices.push(cb.parentElement.textContent.trim());
    });

    let message = "üßæ *Yangi buyurtma!*%0A%0A";
    message += "*Xizmatlar:*%0A" + selectedServices.join("%0A") + "%0A%0A";
    for (let [key, value] of formData.entries()) {
      message += `*${key}*: ${value}%0A`;
    }

    const token = "7094241083:AAHqBCDryZOFDtmzwdBOgM4mNfME0vUSZnI";
    const chatId = "1167533727";
    const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${message}&parse_mode=Markdown`;

    fetch(url).then(res => {
      if (res.ok) {
        alert("‚úÖ Yuborildi!");
      } else {
        alert("‚ùå Xatolik yuz berdi!");
      }
    });
  }

  updateTotal();
</script>

</body>
</html>
